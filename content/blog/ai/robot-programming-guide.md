---
title: "ğŸ¤– æ‰‹æ®‹å…šçš„æœºå™¨äººç¼–ç¨‹å…¥é—¨æŒ‡å—"
description: "ä»é›¶å¼€å§‹å­¦ä¹ æœºå™¨äººç¼–ç¨‹ï¼Œæ¢ç´¢ROSã€Arduinoã€Pythonåœ¨ç¡¬ä»¶æ§åˆ¶ä¸­çš„åº”ç”¨ã€‚åˆ†äº«åœ¨ç¡¬ä»¶ç¼–ç¨‹é“è·¯ä¸Šçš„è¸©å‘ç»å†å’Œæˆé•¿æ”¶è·ï¼Œè®©ä»£ç çœŸæ­£æ§åˆ¶ç°å®ä¸–ç•Œã€‚"
date: "2024-01-15"
readTime: "12åˆ†é’Ÿ"
tags: ["æœºå™¨äºº", "ROS", "Arduino", "Python", "ç¡¬ä»¶ç¼–ç¨‹", "å…¥é—¨æŒ‡å—", "æŠ€æœ¯åºŸæŸ´", "è·¨ç•Œæ¢ç´¢"]
category: "AIæŠ€æœ¯"
featured: true
author: "LJoson"
status: "published"
---

# ğŸ¤– æ‰‹æ®‹å…šçš„æœºå™¨äººç¼–ç¨‹å…¥é—¨æŒ‡å—

## å½“æ‰‹æ®‹å…šé‡è§æœºå™¨äººç¼–ç¨‹

ä½œä¸ºä¸€ä¸ªæŠ€æœ¯åºŸæŸ´ï¼Œæˆ‘æ›¾ç»ä»¥ä¸ºç¡¬ä»¶ç¼–ç¨‹æ˜¯é¥ä¸å¯åŠçš„é¢†åŸŸã€‚æ¯æ¬¡çœ‹åˆ°é‚£äº›å¤§ç¥åšçš„æœºå™¨äººé¡¹ç›®ï¼Œæˆ‘éƒ½æ€€ç–‘è‡ªå·±æ˜¯ä¸æ˜¯é€‰é”™äº†ä¸“ä¸šâ€”â€”"æˆ‘è¿ä¸ªLEDéƒ½æ¥ä¸å¥½ï¼Œè¿˜ç©ä»€ä¹ˆæœºå™¨äººï¼Ÿ"

ä½†æ­£æ˜¯è¿™ç§"æ‰‹æ®‹"çš„ç»å†ï¼Œè®©æˆ‘æ›´æ·±åˆ»åœ°ç†è§£äº†å­¦ä¹ çš„è¿‡ç¨‹ã€‚ä»æœ€åˆçš„"è¿™å¼•è„šæ€ä¹ˆæ¥"åˆ°æœ€åçš„"æˆ‘çš„æœºå™¨äººç»ˆäºåŠ¨äº†"ï¼Œæ¯ä¸€æ­¥éƒ½å……æ»¡äº†æ„å¤–å’ŒæƒŠå–œã€‚

ä»Šå¤©ï¼Œæˆ‘æƒ³åˆ†äº«æˆ‘çš„è¸©å‘ç»å†ï¼Œå¸Œæœ›èƒ½ç»™åŒæ ·"æ‰‹æ®‹"çš„æœ‹å‹ä¸€äº›å¯å‘ã€‚è®°ä½ï¼Œ**æŠ€æœ¯æ²¡æœ‰é—¨æ§›ï¼Œåªæœ‰å°é˜¶**ï¼

## ğŸš€ æœºå™¨äººç¼–ç¨‹ï¼šç¡¬ä»¶ä¸è½¯ä»¶çš„å®Œç¾èåˆ

### ä¸ºä»€ä¹ˆé€‰æ‹©æœºå™¨äººç¼–ç¨‹ï¼Ÿ

**æŠ€æœ¯ä»·å€¼**ï¼š
- ç¡¬ä»¶ä¸è½¯ä»¶çš„ç»“åˆ
- å®æ—¶æ§åˆ¶ç³»ç»Ÿçš„è®¾è®¡
- ä¼ æ„Ÿå™¨æ•°æ®å¤„ç†
- è¿åŠ¨æ§åˆ¶ç®—æ³•

**å­¦ä¹ æ„ä¹‰**ï¼š
- æ·±å…¥ç†è§£æ§åˆ¶ç³»ç»Ÿ
- æŒæ¡ç¡¬ä»¶ç¼–ç¨‹æŠ€èƒ½
- åŸ¹å…»å·¥ç¨‹å®è·µèƒ½åŠ›
- ä½“éªŒè·¨ç•ŒæŠ€æœ¯èåˆ

### æ‰‹æ®‹å…šçš„æ€è€ƒ

è¯´å®è¯ï¼Œä¸€å¼€å§‹æˆ‘ä¹Ÿè§‰å¾—æœºå™¨äººç¼–ç¨‹å¾ˆ"é«˜å¤§ä¸Š"ã€‚ä½†åæ¥å‘ç°ï¼Œæœºå™¨äººç¼–ç¨‹å…¶å®æ˜¯ä¸€ä¸ªå¾ˆå®ç”¨çš„æŠ€æœ¯ï¼Œå®ƒèƒ½è®©ä»£ç æ§åˆ¶ç°å®ä¸–ç•Œçš„ç‰©ä½“ã€‚è€Œä¸”ï¼Œéšç€å¼€æºå¹³å°çš„å‘å±•ï¼Œå…¥é—¨é—¨æ§›å·²ç»å¤§å¤§é™ä½äº†ã€‚

## ğŸ¯ æˆ‘çš„ç¬¬ä¸€ä¸ªæœºå™¨äººé¡¹ç›®ï¼šæ™ºèƒ½å°è½¦

åˆšå¼€å§‹æ¥è§¦æœºå™¨äººç¼–ç¨‹æ—¶ï¼Œæˆ‘çš„çŠ¶æ€æ˜¯è¿™æ ·çš„ï¼š

```
æˆ‘ï¼šArduinoæ˜¯ä»€ä¹ˆï¼Ÿ
å¤§ç¥ï¼šå°±æ˜¯ä¸€ä¸ªå°å‹è®¡ç®—æœº
æˆ‘ï¼šé‚£å¼•è„šå‘¢ï¼Ÿ
å¤§ç¥ï¼šå°±æ˜¯è¿æ¥å¤–éƒ¨è®¾å¤‡çš„æ¥å£
æˆ‘ï¼šæ€ä¹ˆè¿æ¥ï¼Ÿ
å¤§ç¥ï¼šçœ‹è¯´æ˜ä¹¦
æˆ‘ï¼šè¯´æ˜ä¹¦åœ¨å“ªï¼Ÿ
å¤§ç¥ï¼š...ï¼ˆå†…å¿ƒOSï¼šè¿™è´§æ˜¯ä¸æ˜¯æ¥æç¬‘çš„ï¼‰
```

é‚£æ—¶å€™çš„æˆ‘ï¼š
- è¿Arduinoçš„å¼•è„šéƒ½åˆ†ä¸æ¸…æ¥šï¼ˆæ•°å­—å¼•è„šï¼Ÿæ¨¡æ‹Ÿå¼•è„šï¼Ÿä»€ä¹ˆé¬¼ï¼Ÿï¼‰
- ä¸çŸ¥é“ä»€ä¹ˆæ˜¯ä¸²å£é€šä¿¡ï¼ˆä¸²å£ï¼Ÿä¸æ˜¯ä¸²ä¸²é¦™å—ï¼Ÿï¼‰
- ä¸ç†è§£ç”µè·¯åŸç†ï¼ˆç”µå‹ã€ç”µæµã€ç”µé˜»ï¼Ÿæˆ‘åªçŸ¥é“ç‰©ç†è€ƒè¯•ï¼‰
- çœ‹åˆ°é¢åŒ…æ¿å°±å¤´æ™•ï¼ˆè¿™ä¹ˆå¤šæ´æ´ï¼Œæ’å“ªé‡Œï¼Ÿï¼‰

çœ‹åˆ°åˆ«äººåšçš„æœºå™¨äººé¡¹ç›®è§‰å¾—å¾ˆé…·ï¼Œä½†è½®åˆ°è‡ªå·±åšçš„æ—¶å€™ï¼Œè¿ä¸ªç®€å•çš„LEDé—ªçƒéƒ½æä¸å®šã€‚é‚£æ—¶å€™æˆ‘å°±åœ¨æƒ³ï¼šæˆ‘æ˜¯ä¸æ˜¯ä¸é€‚åˆæç¡¬ä»¶ï¼Ÿ

### ç¬¬äºŒé˜¶æ®µï¼šå…¥é—¨æœŸï¼ˆç¬¬3-4å‘¨ï¼‰

ç»è¿‡ä¸€æ®µæ—¶é—´çš„æ‘¸ç´¢ï¼ˆä¸»è¦æ˜¯çœ‹è§†é¢‘å’Œåˆ«äººçš„ä»£ç ï¼‰ï¼Œæˆ‘å¼€å§‹ç†è§£äº†ä¸€äº›åŸºç¡€æ¦‚å¿µï¼š

**ç¡¬ä»¶åŸºç¡€**ï¼š
- Arduinoï¼šå°±åƒä¸€ä¸ªå°å‹è®¡ç®—æœºï¼Œå¯ä»¥æ§åˆ¶å„ç§ç¡¬ä»¶
- å¼•è„šï¼šå°±åƒè®¡ç®—æœºçš„"æ‰‹"ï¼Œå¯ä»¥è¾“å‡ºä¿¡å·æˆ–è¯»å–ä¿¡å·
- é¢åŒ…æ¿ï¼šå°±åƒ"ç§¯æœ¨æ¿"ï¼Œå¯ä»¥å¿«é€Ÿæ­å»ºç”µè·¯
- ä¼ æ„Ÿå™¨ï¼šå°±åƒæœºå™¨äººçš„"çœ¼ç›"å’Œ"è€³æœµ"

**ç¼–ç¨‹åŸºç¡€**ï¼š
- setup()ï¼šç¨‹åºå¯åŠ¨æ—¶æ‰§è¡Œä¸€æ¬¡
- loop()ï¼šç¨‹åºå¾ªç¯æ‰§è¡Œ
- digitalWrite()ï¼šè¾“å‡ºæ•°å­—ä¿¡å·ï¼ˆé«˜ç”µå¹³æˆ–ä½ç”µå¹³ï¼‰
- analogRead()ï¼šè¯»å–æ¨¡æ‹Ÿä¿¡å·ï¼ˆ0-1023çš„æ•°å€¼ï¼‰

### ç¬¬ä¸‰é˜¶æ®µï¼šå®è·µæœŸï¼ˆç¬¬5-8å‘¨ï¼‰

ç†è®ºç»“åˆå®è·µï¼Œæˆ‘å¼€å§‹å°è¯•å„ç§ç¡¬ä»¶é¡¹ç›®ã€‚è¿™ä¸ªè¿‡ç¨‹å°±åƒåœ¨ç©ä¸€ä¸ªè¶…çº§å¤æ‚çš„ç§¯æœ¨æ¸¸æˆï¼Œæ¯ä¸ªç»„ä»¶éƒ½å¯èƒ½å½±å“æœ€ç»ˆç»“æœã€‚

## ğŸ”§ æŠ€æœ¯æ ˆè¯¦è§£ï¼šç¡¬ä»¶ç¼–ç¨‹çš„"æ­¦å™¨åº“"

### 1. Arduinoï¼šç¡¬ä»¶ç¼–ç¨‹çš„"å…¥é—¨ç¥å™¨"

#### åŸºæœ¬æ¦‚å¿µ
Arduinoå°±åƒæ˜¯ä¸€ä¸ª"ä¸‡èƒ½é¥æ§å™¨"ï¼š
- **æ•°å­—å¼•è„š**ï¼šåªèƒ½è¾“å‡º0æˆ–1ï¼ˆå°±åƒå¼€å…³ï¼Œå¼€æˆ–å…³ï¼‰
- **æ¨¡æ‹Ÿå¼•è„š**ï¼šå¯ä»¥è¾“å‡º0-255çš„æ•°å€¼ï¼ˆå°±åƒéŸ³é‡è°ƒèŠ‚ï¼‰
- **PWMå¼•è„š**ï¼šå¯ä»¥è¾“å‡ºæ¨¡æ‹Ÿä¿¡å·ï¼ˆå°±åƒè°ƒå…‰å¼€å…³ï¼‰

#### ç¬¬ä¸€ä¸ªé¡¹ç›®ï¼šLEDé—ªçƒ
```cpp
// æˆ‘çš„ç¬¬ä¸€ä¸ªArduinoç¨‹åº
void setup() {
  pinMode(13, OUTPUT);  // è®¾ç½®13å·å¼•è„šä¸ºè¾“å‡ºæ¨¡å¼
}

void loop() {
  digitalWrite(13, HIGH);  // ç‚¹äº®LED
  delay(1000);             // ç­‰å¾…1ç§’
  digitalWrite(13, LOW);   // ç†„ç­LED
  delay(1000);             // ç­‰å¾…1ç§’
}
```

**æˆ‘çš„æ„Ÿå—**ï¼šå“‡ï¼LEDçœŸçš„äº®äº†ï¼è™½ç„¶å¾ˆç®€å•ï¼Œä½†è¿™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡è®©ç¡¬ä»¶"å¬è¯"ï¼

### 2. Pythonä¸ç¡¬ä»¶äº¤äº’ï¼šè½¯ä»¶ä¸ç¡¬ä»¶çš„"æ¡¥æ¢"

#### ä¸²å£é€šä¿¡ï¼šè®©Pythonå’ŒArduino"å¯¹è¯"
```python
import serial
import time

class ArduinoController:
    def __init__(self, port='/dev/ttyUSB0', baudrate=9600):
        """
        åˆå§‹åŒ–Arduinoæ§åˆ¶å™¨
        å°±åƒç»™Arduinoæ‰“ç”µè¯ï¼Œå»ºç«‹é€šä¿¡è¿æ¥
        """
        self.serial = serial.Serial(port, baudrate)
        time.sleep(2)  # ç­‰å¾…Arduinoé‡å¯ï¼ˆå°±åƒç­‰ç”µè¯æ¥é€šï¼‰
        print("Arduinoè¿æ¥æˆåŠŸï¼")

    def send_command(self, command):
        """
        å‘é€å‘½ä»¤åˆ°Arduino
        å°±åƒç»™Arduinoå‘çŸ­ä¿¡
        """
        self.serial.write(f"{command}\n".encode())
        print(f"å‘é€å‘½ä»¤: {command}")

    def read_sensor(self):
        """
        è¯»å–ä¼ æ„Ÿå™¨æ•°æ®
        å°±åƒå¬Arduinoæ±‡æŠ¥æƒ…å†µ
        """
        if self.serial.in_waiting:
            data = self.serial.readline().decode().strip()
            print(f"æ”¶åˆ°æ•°æ®: {data}")
            return data
        return None

    def close(self):
        """
        å…³é—­è¿æ¥
        å°±åƒæŒ‚æ–­ç”µè¯
        """
        self.serial.close()
        print("Arduinoè¿æ¥å·²å…³é—­")

# ä½¿ç”¨ç¤ºä¾‹
try:
    arduino = ArduinoController()
    arduino.send_command("LED_ON")  # ç‚¹äº®LED
    time.sleep(1)
    arduino.send_command("LED_OFF")  # ç†„ç­LED

    # è¯»å–ä¼ æ„Ÿå™¨æ•°æ®
    sensor_value = arduino.read_sensor()
    print(f"ä¼ æ„Ÿå™¨è¯»æ•°: {sensor_value}")

finally:
    arduino.close()
```

### 3. ROSï¼šæœºå™¨äººç¼–ç¨‹çš„"æ“ä½œç³»ç»Ÿ"

#### åŸºæœ¬æ¦‚å¿µ
ROSå°±åƒæ˜¯ä¸€ä¸ª"æœºå™¨äººç®¡å®¶"ï¼š
- **èŠ‚ç‚¹ï¼ˆNodeï¼‰**ï¼šå°±åƒä¸åŒçš„"å‘˜å·¥"ï¼Œå„è‡ªè´Ÿè´£ä¸åŒçš„ä»»åŠ¡
- **è¯é¢˜ï¼ˆTopicï¼‰**ï¼šå°±åƒ"å¹¿æ’­é¢‘é“"ï¼ŒèŠ‚ç‚¹ä¹‹é—´é€šè¿‡è¯é¢˜é€šä¿¡
- **æ¶ˆæ¯ï¼ˆMessageï¼‰**ï¼šå°±åƒ"ä¿¡ä»¶"ï¼ŒåŒ…å«å…·ä½“çš„ä¿¡æ¯å†…å®¹
- **ä¸»èŠ‚ç‚¹ï¼ˆMasterï¼‰**ï¼šå°±åƒ"ç»ç†"ï¼Œç®¡ç†æ‰€æœ‰èŠ‚ç‚¹

#### ç¬¬ä¸€ä¸ªROSç¨‹åºï¼šå‘å¸ƒè€…
```python
#!/usr/bin/env python3
import rospy
from std_msgs.msg import String

def talker():
    """
    å‘å¸ƒè€…èŠ‚ç‚¹ï¼šå®šæœŸå‘å¸ƒæ¶ˆæ¯
    å°±åƒå®šæ—¶å¹¿æ’­çš„ç”µå°
    """
    # åˆå§‹åŒ–èŠ‚ç‚¹
    pub = rospy.Publisher('chatter', String, queue_size=10)
    rospy.init_node('talker', anonymous=True)
    rate = rospy.Rate(10)  # æ¯ç§’å‘å¸ƒ10æ¬¡

    print("å¼€å§‹å‘å¸ƒæ¶ˆæ¯...")

    while not rospy.is_shutdown():
        hello_str = f"Hello ROS! æ—¶é—´: {rospy.get_time()}"
        rospy.loginfo(hello_str)  # æ‰“å°åˆ°æ§åˆ¶å°
        pub.publish(hello_str)    # å‘å¸ƒåˆ°è¯é¢˜
        rate.sleep()              # ç­‰å¾…

if __name__ == '__main__':
    try:
        talker()
    except rospy.ROSInterruptException:
        pass
```

#### è®¢é˜…è€…ç¨‹åº
```python
#!/usr/bin/env python3
import rospy
from std_msgs.msg import String

def callback(data):
    """
    å›è°ƒå‡½æ•°ï¼šå¤„ç†æ¥æ”¶åˆ°çš„æ¶ˆæ¯
    å°±åƒæ”¶åˆ°é‚®ä»¶åçš„å¤„ç†æµç¨‹
    """
    rospy.loginfo(f"æ”¶åˆ°æ¶ˆæ¯: {data.data}")

def listener():
    """
    è®¢é˜…è€…èŠ‚ç‚¹ï¼šç›‘å¬è¯é¢˜æ¶ˆæ¯
    å°±åƒæ”¶å¬å¹¿æ’­çš„æ”¶éŸ³æœº
    """
    # åˆå§‹åŒ–èŠ‚ç‚¹
    rospy.init_node('listener', anonymous=True)

    # è®¢é˜…è¯é¢˜
    rospy.Subscriber('chatter', String, callback)

    print("å¼€å§‹ç›‘å¬æ¶ˆæ¯...")

    # ä¿æŒèŠ‚ç‚¹è¿è¡Œ
    rospy.spin()

if __name__ == '__main__':
    listener()
```

## ğŸ’¥ è¸©å‘ç»éªŒåˆ†äº«ï¼šè¡€æ³ªå²

### 1. ç¡¬ä»¶è¿æ¥å‘ï¼šå¼•è„šæ¥é”™çš„"æ‚²å‰§"

**é—®é¢˜æè¿°**ï¼š
```
æˆ‘çš„ç¬¬ä¸€ä¸ªé¡¹ç›®ï¼šLEDé—ªçƒ
æœŸæœ›ç»“æœï¼šLEDä¸€äº®ä¸€ç­
å®é™…ç»“æœï¼šLEDä¸äº®ï¼Œè¿˜å†’çƒŸäº†
æˆ‘çš„ååº”ï¼šå®Œäº†ï¼Œæˆ‘æŠŠLEDçƒ§äº†ï¼
```

**é—®é¢˜åŸå› **ï¼š
- æ²¡æœ‰ä½¿ç”¨é™æµç”µé˜»
- ç›´æ¥è¿æ¥LEDåˆ°5Vç”µæº
- LEDæ‰¿å—ä¸äº†è¿™ä¹ˆå¤§çš„ç”µæµ

**æ­£ç¡®åšæ³•**ï¼š
```cpp
// é”™è¯¯ç¤ºä¾‹ï¼šç›´æ¥è¿æ¥LEDåˆ°5V
void setup() {
  pinMode(13, OUTPUT);
  digitalWrite(13, HIGH); // æ²¡æœ‰é™æµç”µé˜»ï¼ŒLEDå¾ˆå¿«å°±çƒ§äº†
}

// æ­£ç¡®ç¤ºä¾‹ï¼šä½¿ç”¨å†…ç½®LEDï¼ˆArduinoæ¿è½½LEDï¼‰
void setup() {
  pinMode(13, OUTPUT);  // 13å·å¼•è„šè¿æ¥æ¿è½½LED
}
void loop() {
  digitalWrite(13, HIGH);  // ç‚¹äº®LED
  delay(1000);             // ç­‰å¾…1ç§’
  digitalWrite(13, LOW);   // ç†„ç­LED
  delay(1000);             // ç­‰å¾…1ç§’
}
```

**æ•™è®­**ï¼šç¡¬ä»¶ç¼–ç¨‹æœ€é‡è¦çš„æ˜¯å®‰å…¨ï¼Œä¸€å®šè¦ç†è§£ç”µè·¯åŸç†å†åŠ¨æ‰‹ã€‚å°±åƒå¼€è½¦ï¼Œè¦å…ˆå­¦äº¤é€šè§„åˆ™å†ä¸Šè·¯ã€‚

### 2. ä¸²å£é€šä¿¡å‘ï¼šæ³¢ç‰¹ç‡ä¸åŒ¹é…çš„"å°´å°¬"

**é—®é¢˜æè¿°**ï¼š
```
æˆ‘çš„Pythonç¨‹åºï¼šè¿æ¥Arduino
æœŸæœ›ç»“æœï¼šæˆåŠŸå»ºç«‹é€šä¿¡
å®é™…ç»“æœï¼šæ”¶åˆ°ä¹±ç 
æˆ‘çš„ååº”ï¼šArduinoæ˜¯ä¸æ˜¯åäº†ï¼Ÿ
```

**é—®é¢˜åŸå› **ï¼š
- Pythonå’ŒArduinoçš„æ³¢ç‰¹ç‡è®¾ç½®ä¸ä¸€è‡´
- ä¸²å£å·é€‰æ‹©é”™è¯¯
- æ²¡æœ‰ç­‰å¾…Arduinoé‡å¯

**è§£å†³æ–¹æ¡ˆ**ï¼š
```python
import serial
import time

def connect_arduino():
    """
    å®‰å…¨è¿æ¥Arduinoçš„å‡½æ•°
    åŒ…å«é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶
    """
    # å¸¸è§çš„ä¸²å£å·
    possible_ports = ['/dev/ttyUSB0', '/dev/ttyUSB1', '/dev/ttyACM0', 'COM3', 'COM4']

    for port in possible_ports:
        try:
            print(f"å°è¯•è¿æ¥ {port}...")
            arduino = serial.Serial(port, 9600, timeout=1)
            time.sleep(2)  # ç­‰å¾…Arduinoé‡å¯

            # æµ‹è¯•é€šä¿¡
            arduino.write(b"TEST\n")
            response = arduino.readline().decode().strip()

            if response:
                print(f"æˆåŠŸè¿æ¥åˆ° {port}!")
                return arduino
            else:
                arduino.close()

        except Exception as e:
            print(f"è¿æ¥ {port} å¤±è´¥: {e}")
            continue

    raise Exception("æ— æ³•è¿æ¥åˆ°Arduinoï¼Œè¯·æ£€æŸ¥è¿æ¥å’Œä¸²å£å·")

# ä½¿ç”¨ç¤ºä¾‹
try:
    arduino = connect_arduino()
    arduino.write(b"LED_ON\n")
    time.sleep(1)
    arduino.write(b"LED_OFF\n")
finally:
    if 'arduino' in locals():
        arduino.close()
```

**æ•™è®­**ï¼šä¸²å£é€šä¿¡å°±åƒæ‰“ç”µè¯ï¼ŒåŒæ–¹éƒ½è¦è¯´åŒä¸€ç§è¯­è¨€ï¼ˆæ³¢ç‰¹ç‡ï¼‰ï¼Œè€Œä¸”è¦åœ¨åŒä¸€ä¸ªé¢‘é“ï¼ˆä¸²å£å·ï¼‰ã€‚

### 3. ROSèŠ‚ç‚¹å‘ï¼šèŠ‚ç‚¹åç§°å†²çªçš„"æ··ä¹±"

**é—®é¢˜æè¿°**ï¼š
```
æˆ‘çš„ROSç¨‹åºï¼šå¯åŠ¨å¤šä¸ªèŠ‚ç‚¹
æœŸæœ›ç»“æœï¼šèŠ‚ç‚¹æ­£å¸¸é€šä¿¡
å®é™…ç»“æœï¼šèŠ‚ç‚¹å¯åŠ¨å¤±è´¥
æˆ‘çš„ååº”ï¼šROSæ˜¯ä¸æ˜¯æœ‰é—®é¢˜ï¼Ÿ
```

**é—®é¢˜åŸå› **ï¼š
- èŠ‚ç‚¹åç§°é‡å¤
- è¯é¢˜åç§°å†²çª
- æ²¡æœ‰æ­£ç¡®å…³é—­ä¹‹å‰çš„èŠ‚ç‚¹

**è§£å†³æ–¹æ¡ˆ**ï¼š
```python
#!/usr/bin/env python3
import rospy
from std_msgs.msg import String
import random

def talker():
    """
    æ”¹è¿›çš„å‘å¸ƒè€…èŠ‚ç‚¹
    ä½¿ç”¨éšæœºèŠ‚ç‚¹åç§°é¿å…å†²çª
    """
    # ä½¿ç”¨éšæœºèŠ‚ç‚¹åç§°
    node_name = f'talker_{random.randint(1000, 9999)}'
    pub = rospy.Publisher('chatter', String, queue_size=10)
    rospy.init_node(node_name, anonymous=True)
    rate = rospy.Rate(10)

    print(f"èŠ‚ç‚¹ {node_name} å¼€å§‹å‘å¸ƒæ¶ˆæ¯...")

    try:
        while not rospy.is_shutdown():
            hello_str = f"æ¥è‡ª {node_name} çš„æ¶ˆæ¯: {rospy.get_time()}"
            rospy.loginfo(hello_str)
            pub.publish(hello_str)
            rate.sleep()
    except KeyboardInterrupt:
        print(f"èŠ‚ç‚¹ {node_name} è¢«ç”¨æˆ·ä¸­æ–­")
    except Exception as e:
        print(f"èŠ‚ç‚¹ {node_name} å‘ç”Ÿé”™è¯¯: {e}")
    finally:
        print(f"èŠ‚ç‚¹ {node_name} å·²å…³é—­")

if __name__ == '__main__':
    try:
        talker()
    except rospy.ROSInterruptException:
        pass
```

**æ•™è®­**ï¼šROSèŠ‚ç‚¹å°±åƒå‘˜å·¥ï¼Œæ¯ä¸ªå‘˜å·¥éƒ½è¦æœ‰ç‹¬ç‰¹çš„åå­—ï¼Œå¦åˆ™è€æ¿ï¼ˆä¸»èŠ‚ç‚¹ï¼‰å°±åˆ†ä¸æ¸…è°æ˜¯è°äº†ã€‚

## ğŸ¯ å®æˆ˜é¡¹ç›®ï¼šæˆ‘çš„ç¬¬ä¸€ä¸ªæœºå™¨äººå°è½¦

### é¡¹ç›®ç›®æ ‡
åˆ¶ä½œä¸€ä¸ªå¯ä»¥é€šè¿‡ç”µè„‘æ§åˆ¶çš„æœºå™¨äººå°è½¦ï¼Œæ”¯æŒå‰è¿›ã€åé€€ã€å·¦è½¬ã€å³è½¬ã€åœæ­¢ç­‰åŸºæœ¬åŠ¨ä½œã€‚

### ç¡¬ä»¶æ¸…å•
- Arduino Uno Ã— 1
- L298Nç”µæœºé©±åŠ¨æ¨¡å— Ã— 1
- ç›´æµç”µæœº Ã— 2
- å°è½¦åº•ç›˜ Ã— 1
- ç”µæ± ç›’ Ã— 1
- é¢åŒ…æ¿å’Œè¿æ¥çº¿è‹¥å¹²

### Arduinoæ§åˆ¶ç¨‹åº
```cpp
// ç”µæœºæ§åˆ¶å¼•è„šå®šä¹‰
#define ENA 5  // å·¦ç”µæœºä½¿èƒ½
#define ENB 6  // å³ç”µæœºä½¿èƒ½
#define IN1 7  // å·¦ç”µæœºæ–¹å‘1
#define IN2 8  // å·¦ç”µæœºæ–¹å‘2
#define IN3 9  // å³ç”µæœºæ–¹å‘1
#define IN4 10 // å³ç”µæœºæ–¹å‘2

void setup() {
  // è®¾ç½®å¼•è„šä¸ºè¾“å‡ºæ¨¡å¼
  pinMode(ENA, OUTPUT);
  pinMode(ENB, OUTPUT);
  pinMode(IN1, OUTPUT);
  pinMode(IN2, OUTPUT);
  pinMode(IN3, OUTPUT);
  pinMode(IN4, OUTPUT);

  // åˆå§‹åŒ–ä¸²å£é€šä¿¡
  Serial.begin(9600);
  Serial.println("æœºå™¨äººå°è½¦å·²å¯åŠ¨ï¼");
}

void loop() {
  // æ£€æŸ¥æ˜¯å¦æœ‰ä¸²å£å‘½ä»¤
  if (Serial.available() > 0) {
    char command = Serial.read();

    switch (command) {
      case 'F':  // å‰è¿›
        forward();
        Serial.println("å‰è¿›");
        break;
      case 'B':  // åé€€
        backward();
        Serial.println("åé€€");
        break;
      case 'L':  // å·¦è½¬
        left();
        Serial.println("å·¦è½¬");
        break;
      case 'R':  // å³è½¬
        right();
        Serial.println("å³è½¬");
        break;
      case 'S':  // åœæ­¢
        stop();
        Serial.println("åœæ­¢");
        break;
      default:
        Serial.println("æœªçŸ¥å‘½ä»¤");
        break;
    }
  }
}

// å‰è¿›å‡½æ•°
void forward() {
  analogWrite(ENA, 200);  // è®¾ç½®å·¦ç”µæœºé€Ÿåº¦
  analogWrite(ENB, 200);  // è®¾ç½®å³ç”µæœºé€Ÿåº¦
  digitalWrite(IN1, HIGH);
  digitalWrite(IN2, LOW);
  digitalWrite(IN3, HIGH);
  digitalWrite(IN4, LOW);
}

// åé€€å‡½æ•°
void backward() {
  analogWrite(ENA, 200);
  analogWrite(ENB, 200);
  digitalWrite(IN1, LOW);
  digitalWrite(IN2, HIGH);
  digitalWrite(IN3, LOW);
  digitalWrite(IN4, HIGH);
}

// å·¦è½¬å‡½æ•°
void left() {
  analogWrite(ENA, 150);
  analogWrite(ENB, 150);
  digitalWrite(IN1, LOW);
  digitalWrite(IN2, HIGH);
  digitalWrite(IN3, HIGH);
  digitalWrite(IN4, LOW);
}

// å³è½¬å‡½æ•°
void right() {
  analogWrite(ENA, 150);
  analogWrite(ENB, 150);
  digitalWrite(IN1, HIGH);
  digitalWrite(IN2, LOW);
  digitalWrite(IN3, LOW);
  digitalWrite(IN4, HIGH);
}

// åœæ­¢å‡½æ•°
void stop() {
  analogWrite(ENA, 0);
  analogWrite(ENB, 0);
}
```

### Pythonæ§åˆ¶ç•Œé¢
```python
import tkinter as tk
import serial
import threading
import time

class RobotController:
    def __init__(self):
        """
        æœºå™¨äººæ§åˆ¶å™¨
        æä¾›å›¾å½¢ç•Œé¢æ§åˆ¶æœºå™¨äººå°è½¦
        """
        self.arduino = None
        self.connected = False
        self.setup_gui()
        self.connect_arduino()

    def connect_arduino(self):
        """
        è¿æ¥Arduino
        åœ¨åå°çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œé¿å…ç•Œé¢å¡æ­»
        """
        def connect():
            try:
                self.arduino = serial.Serial('/dev/ttyUSB0', 9600, timeout=1)
                time.sleep(2)  # ç­‰å¾…Arduinoé‡å¯
                self.connected = True
                self.status_label.config(text="çŠ¶æ€: å·²è¿æ¥", fg="green")
                print("Arduinoè¿æ¥æˆåŠŸï¼")
            except Exception as e:
                self.status_label.config(text=f"çŠ¶æ€: è¿æ¥å¤±è´¥ - {e}", fg="red")
                print(f"Arduinoè¿æ¥å¤±è´¥: {e}")

        # åœ¨åå°çº¿ç¨‹ä¸­è¿æ¥
        threading.Thread(target=connect, daemon=True).start()

    def setup_gui(self):
        """
        è®¾ç½®å›¾å½¢ç•Œé¢
        åˆ›å»ºæ§åˆ¶æŒ‰é’®å’ŒçŠ¶æ€æ˜¾ç¤º
        """
        self.root = tk.Tk()
        self.root.title("æœºå™¨äººå°è½¦æ§åˆ¶å™¨")
        self.root.geometry("300x200")

        # çŠ¶æ€æ ‡ç­¾
        self.status_label = tk.Label(self.root, text="çŠ¶æ€: è¿æ¥ä¸­...", fg="orange")
        self.status_label.grid(row=0, column=0, columnspan=3, pady=10)

        # æ§åˆ¶æŒ‰é’®
        tk.Button(self.root, text="å‰è¿›", command=lambda: self.send_command('F'),
                 bg="lightgreen", width=8, height=2).grid(row=1, column=1, padx=5, pady=5)

        tk.Button(self.root, text="åé€€", command=lambda: self.send_command('B'),
                 bg="lightcoral", width=8, height=2).grid(row=3, column=1, padx=5, pady=5)

        tk.Button(self.root, text="å·¦è½¬", command=lambda: self.send_command('L'),
                 bg="lightblue", width=8, height=2).grid(row=2, column=0, padx=5, pady=5)

        tk.Button(self.root, text="å³è½¬", command=lambda: self.send_command('R'),
                 bg="lightblue", width=8, height=2).grid(row=2, column=2, padx=5, pady=5)

        tk.Button(self.root, text="åœæ­¢", command=lambda: self.send_command('S'),
                 bg="yellow", width=8, height=2).grid(row=2, column=1, padx=5, pady=5)

        # é”®ç›˜ç»‘å®š
        self.root.bind('<KeyPress>', self.on_key_press)
        self.root.bind('<KeyRelease>', self.on_key_release)

        # çª—å£å…³é—­äº‹ä»¶
        self.root.protocol("WM_DELETE_WINDOW", self.on_closing)

    def send_command(self, command):
        """
        å‘é€å‘½ä»¤åˆ°Arduino
        """
        if self.connected and self.arduino:
            try:
                self.arduino.write(command.encode())
                print(f"å‘é€å‘½ä»¤: {command}")
            except Exception as e:
                print(f"å‘é€å‘½ä»¤å¤±è´¥: {e}")
                self.connected = False
                self.status_label.config(text="çŠ¶æ€: è¿æ¥æ–­å¼€", fg="red")

    def on_key_press(self, event):
        """
        é”®ç›˜æŒ‰ä¸‹äº‹ä»¶
        æ”¯æŒWASDé”®æ§åˆ¶
        """
        key = event.keysym.upper()
        if key == 'W':
            self.send_command('F')
        elif key == 'S':
            self.send_command('B')
        elif key == 'A':
            self.send_command('L')
        elif key == 'D':
            self.send_command('R')

    def on_key_release(self, event):
        """
        é”®ç›˜é‡Šæ”¾äº‹ä»¶
        è‡ªåŠ¨åœæ­¢
        """
        self.send_command('S')

    def on_closing(self):
        """
        çª—å£å…³é—­äº‹ä»¶
        æ¸…ç†èµ„æº
        """
        if self.arduino:
            self.send_command('S')  # ç¡®ä¿åœæ­¢
            self.arduino.close()
        self.root.destroy()

    def run(self):
        """
        è¿è¡Œæ§åˆ¶å™¨
        """
        self.root.mainloop()

if __name__ == "__main__":
    controller = RobotController()
    controller.run()
```

## ğŸ’¡ å­¦ä¹ å¿ƒå¾—ä¸å»ºè®®ï¼šåºŸæŸ´çš„æˆé•¿æ„Ÿæ‚Ÿ

### 1. å¾ªåºæ¸è¿›å¾ˆé‡è¦ï¼šä¸è¦æ€¥äºæ±‚æˆ

ä¸è¦ä¸€å¼€å§‹å°±æƒ³ç€åšå¤æ‚çš„é¡¹ç›®ï¼Œä»ç®€å•çš„LEDé—ªçƒå¼€å§‹ï¼Œé€æ­¥å¢åŠ éš¾åº¦ã€‚

**æˆ‘çš„å­¦ä¹ è·¯å¾„**ï¼š
- ç¬¬1å‘¨ï¼šLEDé—ªçƒ â†’ ç¬¬2å‘¨ï¼šæŒ‰é’®æ§åˆ¶LED
- ç¬¬3å‘¨ï¼šä¸²å£é€šä¿¡ â†’ ç¬¬4å‘¨ï¼šä¼ æ„Ÿå™¨è¯»å–
- ç¬¬5å‘¨ï¼šç”µæœºæ§åˆ¶ â†’ ç¬¬6å‘¨ï¼šå°è½¦ç»„è£…
- ç¬¬7å‘¨ï¼šPythonæ§åˆ¶ â†’ ç¬¬8å‘¨ï¼šå›¾å½¢ç•Œé¢

### 2. ç†è®ºä¸å®è·µç»“åˆï¼šåŠ¨æ‰‹æ‰æ˜¯ç‹é“

åªçœ‹ä¹¦ä¸å®è·µæ˜¯å­¦ä¸ä¼šçš„ï¼Œä¸€å®šè¦åŠ¨æ‰‹åšé¡¹ç›®ã€‚å³ä½¿å¤±è´¥äº†ï¼Œä¹Ÿæ˜¯å®è´µçš„å­¦ä¹ ç»éªŒã€‚

**æˆ‘çš„å®è·µåŸåˆ™**ï¼š
- æ¯ä¸ªæ¦‚å¿µéƒ½è¦æœ‰å¯¹åº”çš„å®è·µé¡¹ç›®
- è®°å½•æ¯æ¬¡çš„è¸©å‘ç»å†
- åˆ†äº«ç»™å…¶ä»–å­¦ä¹ è€…

### 3. ç¤¾åŒºèµ„æºå¾ˆä¸°å¯Œï¼šä¸è¦é—­é—¨é€ è½¦

é‡åˆ°é—®é¢˜æ—¶ï¼Œå¤šæŸ¥èµ„æ–™ï¼Œå¤šé—®ç¤¾åŒºã€‚Arduinoå’ŒROSéƒ½æœ‰å¾ˆæ´»è·ƒçš„ç¤¾åŒºã€‚

**æˆ‘çš„èµ„æºæ¸…å•**ï¼š
- Arduinoå®˜æ–¹è®ºå›
- ROS Wikiå’Œé—®ç­”ç¤¾åŒº
- GitHubä¸Šçš„å¼€æºé¡¹ç›®
- YouTubeä¸Šçš„æ•™å­¦è§†é¢‘

### 4. è®°å½•å­¦ä¹ è¿‡ç¨‹ï¼šå¥½è®°æ€§ä¸å¦‚çƒ‚ç¬”å¤´

æŠŠæ¯æ¬¡çš„è¸©å‘ç»å†è®°å½•ä¸‹æ¥ï¼Œä¸ä»…æœ‰åŠ©äºå¤ä¹ ï¼Œä¹Ÿèƒ½å¸®åŠ©å…¶ä»–äººã€‚

**æˆ‘çš„è®°å½•æ–¹å¼**ï¼š
- æŠ€æœ¯åšå®¢è®°å½•
- GitHubä»£ç ä»“åº“
- å­¦ä¹ ç¬”è®°æ•´ç†
- è§†é¢‘æ•™ç¨‹åˆ¶ä½œ

### 5. ä¿æŒå¥½å¥‡å¿ƒï¼šæŠ€æœ¯æ²¡æœ‰è¾¹ç•Œ

æœºå™¨äººç¼–ç¨‹æ˜¯ä¸€ä¸ªå……æ»¡å¯èƒ½æ€§çš„é¢†åŸŸï¼Œä¿æŒå¥½å¥‡å¿ƒï¼Œä¸æ–­æ¢ç´¢æ–°çš„æŠ€æœ¯ã€‚

**æˆ‘çš„æ¢ç´¢æ–¹å‘**ï¼š
- è®¡ç®—æœºè§†è§‰ï¼ˆOpenCVï¼‰
- æœºå™¨å­¦ä¹ ï¼ˆTensorFlow Liteï¼‰
- 3Dæ‰“å°ï¼ˆè®¾è®¡è‡ªå·±çš„é›¶ä»¶ï¼‰
- ç‰©è”ç½‘ï¼ˆè¿œç¨‹æ§åˆ¶ï¼‰

## ğŸ¯ ä¸‹ä¸€æ­¥è®¡åˆ’ï¼šåºŸæŸ´çš„è¿›é˜¶ä¹‹è·¯

### çŸ­æœŸç›®æ ‡ï¼ˆ1-3ä¸ªæœˆï¼‰
1. **æ·±å…¥å­¦ä¹ ROS**ï¼šå­¦ä¹ æœåŠ¡ï¼ˆServiceï¼‰ã€åŠ¨ä½œï¼ˆActionï¼‰ç­‰é«˜çº§æ¦‚å¿µ
2. **è®¡ç®—æœºè§†è§‰**ï¼šç»“åˆOpenCVï¼Œè®©æœºå™¨äººå…·å¤‡è§†è§‰èƒ½åŠ›
3. **ä¼ æ„Ÿå™¨èåˆ**ï¼šæ•´åˆå¤šç§ä¼ æ„Ÿå™¨ï¼Œæé«˜æœºå™¨äººæ„ŸçŸ¥èƒ½åŠ›

### ä¸­æœŸç›®æ ‡ï¼ˆ3-6ä¸ªæœˆï¼‰
1. **æœºå™¨å­¦ä¹ **ï¼šä½¿ç”¨TensorFlow Liteï¼Œåœ¨Arduinoä¸Šè¿è¡Œç®€å•çš„æœºå™¨å­¦ä¹ æ¨¡å‹
2. **3Dæ‰“å°**ï¼šè®¾è®¡å¹¶æ‰“å°è‡ªå·±çš„æœºå™¨äººé›¶ä»¶
3. **è‡ªä¸»å¯¼èˆª**ï¼šå®ç°æœºå™¨äººçš„è‡ªä¸»ç§»åŠ¨å’Œé¿éšœåŠŸèƒ½

### é•¿æœŸç›®æ ‡ï¼ˆ6-12ä¸ªæœˆï¼‰
1. **æ™ºèƒ½æœºå™¨äºº**ï¼šç»“åˆAIæŠ€æœ¯ï¼Œå¼€å‘å…·æœ‰å­¦ä¹ èƒ½åŠ›çš„æœºå™¨äºº
2. **å¼€æºé¡¹ç›®**ï¼šè´¡çŒ®è‡ªå·±çš„ä»£ç åˆ°å¼€æºç¤¾åŒº
3. **æŠ€æœ¯åˆ†äº«**ï¼šåˆ¶ä½œæ•™ç¨‹è§†é¢‘ï¼Œå¸®åŠ©æ›´å¤šå­¦ä¹ è€…

## ğŸ“š æ€»ç»“ï¼šæŠ€æœ¯åºŸæŸ´çš„é€†è¢­ä¹‹è·¯

æœºå™¨äººç¼–ç¨‹å¹¶ä¸æ˜¯é«˜ä¸å¯æ”€çš„æŠ€æœ¯ï¼Œå…³é”®åœ¨äºåšæŒå’Œå®è·µã€‚ä½œä¸ºä¸€ä¸ª"æ‰‹æ®‹å…š"ï¼Œæˆ‘æœ€å¤§çš„æ„Ÿå—æ˜¯ï¼š**æŠ€æœ¯æ²¡æœ‰é—¨æ§›ï¼Œåªæœ‰å°é˜¶**ã€‚æ¯ä¸€æ­¥éƒ½å¾ˆå°ï¼Œä½†ç´¯ç§¯èµ·æ¥å°±æ˜¯å·¨å¤§çš„è¿›æ­¥ã€‚

ä»æœ€åˆçš„"è¿™å¼•è„šæ€ä¹ˆæ¥"åˆ°æœ€åçš„"æˆ‘çš„æœºå™¨äººç»ˆäºåŠ¨äº†"ï¼Œè¿™ä¸ªè¿‡ç¨‹è®©æˆ‘æ˜ç™½äº†ä¸€ä¸ªé“ç†ï¼š**å¤±è´¥æ˜¯æˆåŠŸä¹‹æ¯ï¼Œæ¯ä¸€æ¬¡è¸©å‘éƒ½æ˜¯æˆé•¿çš„æœºä¼šï¼**

å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½ç»™åŒæ ·"æ‰‹æ®‹"çš„æœ‹å‹ä¸€äº›ä¿¡å¿ƒå’ŒæŒ‡å¯¼ã€‚è®°ä½ï¼Œæ¯ä¸€ä¸ªå¤§ç¥éƒ½æ˜¯ä»èœé¸Ÿå¼€å§‹çš„ï¼Œé‡è¦çš„æ˜¯å¼€å§‹è¡ŒåŠ¨ï¼

---

> ğŸ’¡ **åºŸæŸ´å°è´´å£«**ï¼šç¡¬ä»¶ç¼–ç¨‹æœ€é‡è¦çš„æ˜¯å®‰å…¨ï¼Œä¸€å®šè¦ç†è§£ç”µè·¯åŸç†å†åŠ¨æ‰‹ã€‚å°±åƒå¼€è½¦ï¼Œè¦å…ˆå­¦äº¤é€šè§„åˆ™å†ä¸Šè·¯ã€‚æœ€é‡è¦çš„æ˜¯ï¼Œä¿æŒè€å¿ƒå’Œçƒ­æƒ…ï¼Œå› ä¸ºæ¯ä¸ªç¡¬ä»¶å¤§ç¥éƒ½æ˜¯ä»çƒ§LEDå¼€å§‹çš„ï¼

*"åœ¨ç¡¬ä»¶ç¼–ç¨‹çš„ä¸–ç•Œé‡Œï¼Œè®©æŠ€æœ¯åºŸæŸ´ä¹Ÿèƒ½æˆä¸ºæœºå™¨äººå·¥ç¨‹å¸ˆï¼"* ğŸ¤–
