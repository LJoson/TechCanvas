---
title: Vim编辑器使用指南
date: 2021-01-27T00:00:00.000Z
description: 全面的Vim编辑器使用指南，从基础命令到高级技巧，掌握这个强大的文本编辑器
tags:
  - Vim
  - 编辑器
  - Linux
  - 命令行
  - 文本编辑
category: 学习笔记
author: LJoson
status: published
featured: false
---

# Vim编辑器使用指南

## 引言

vi命令是UNIX操作系统和类UNIX操作系统中最通用的全屏幕纯文本编辑器。

Linux中的vi编辑器叫vim，它是vi的增强版（vi Improved），与vi编辑器完全兼容，而且实现了很多增强功能。

## 模式切换

vi编辑器支持编辑模式和命令模式，编辑模式下可以完成文本的编辑功能，命令模式下可以完成对文件的操作命令，要正确使用vi编辑器就必须熟练掌握着两种模式的切换。默认情况下，打开vi编辑器后自动进入命令模式。

- **从编辑模式切换到命令模式**：使用"esc"键
- **从命令模式切换到编辑模式**：使用"A"、"a"、"O"、"o"、"I"、"i"键

## 基础导航命令

### 屏幕滚动

- `Ctrl+u`：向文件首翻半屏
- `Ctrl+d`：向文件尾翻半屏
- `Ctrl+f`：向文件尾翻一屏
- `Ctrl+b`：向文件首翻一屏

### 光标移动

- `:行号`：光标跳转到指定行的行首
- `:$`：光标跳转到最后一行的行首
- `gg`：跳转到文件开头
- `G`：跳转到文件末尾

## 编辑操作

### 插入文本

- `a`：在当前字符后添加文本
- `A`：在行末添加文本
- `i`：在当前字符前插入文本
- `I`：在行首插入文本
- `o`：在当前行后面插入一空行
- `O`：在当前行前面插入一空行

### 删除操作

- `x`：删除光标后的一个字符
- `X`：删除光标前的一个字符
- `D`：删除从当前光标到光标所在行尾的全部字符
- `dd`：删除光标行整行内容
- `ndd`：删除当前行及其后n-1行

### 复制和粘贴

- `nyy`：将当前行及其下n行的内容保存到寄存器中
- `p`：粘贴文本操作，用于将缓存区的内容粘贴到当前光标所在位置的下方
- `P`：粘贴文本操作，用于将缓存区的内容粘贴到当前光标所在位置的上方

## 查找和替换

### 文本查找

- `/字符串`：从当前光标所在位置开始向文件尾部查找指定字符串的内容，查找的字符串会被加亮显示
- `?name`：从当前光标所在位置开始向文件头部查找指定字符串的内容，查找的字符串会被加亮显示
- `n`：继续查找下一个匹配项
- `N`：继续查找上一个匹配项

### 文本替换

- `a,bs/F/T`：在第a行到第b行之间，将F字符串换成T字符串。其中，"s/"表示进行替换操作
- `:%s/old/new/g`：全局替换，将文件中所有的old替换为new
- `:%s/old/new/gc`：全局替换，但每次替换前都会询问

## 文件操作

### 保存和退出

- `:w`：在命令模式下，执行存盘操作
- `:w!`：在命令模式下，执行强制存盘操作
- `:q`：在命令模式下，执行退出vi操作
- `:q!`：在命令模式下，执行强制退出vi操作
- `:wq`：在命令模式下，执行存盘退出操作
- `ZZ`：命令模式下保存当前文件所做的修改后退出vi

### 文件管理

- `:e文件名`：在命令模式下，打开并编辑指定名称的文件
- `:n`：在命令模式下，如果同时打开多个文件，则继续编辑下一个文件
- `:f`：在命令模式下，用于显示当前的文件名、光标所在行的行号以及显示比例

## 显示设置

### 行号显示

- `:set number`：在命令模式下，用于在最左端显示行号
- `:set nonumber`：在命令模式下，用于在最左端不显示行号

## 高级操作

### 全选操作

- **全选（高亮显示）**：按esc后，然后`ggvG`或者`ggVG`
- **全部复制**：按esc后，然后`ggyG`
- **全部删除**：按esc后，然后`dG`

### 撤销和重做

- `u`：撤销上一步操作
- `Ctrl+r`：重做上一步操作

### 多行操作

- `V`：进入可视行模式
- `v`：进入可视字符模式
- `Ctrl+v`：进入可视块模式

## 实用技巧

### 1. 快速跳转

- `Ctrl+g`：显示当前文件信息
- `Ctrl+o`：跳转到上一个位置
- `Ctrl+i`：跳转到下一个位置

### 2. 标记和跳转

- `ma`：在当前位置设置标记a
- `'a`：跳转到标记a的位置

### 3. 宏录制

- `qa`：开始录制宏到寄存器a
- `q`：停止录制
- `@a`：执行寄存器a中的宏

## 配置文件

### .vimrc文件

创建或编辑`~/.vimrc`文件来自定义Vim的行为：

```vim
" 显示行号
set number

" 语法高亮
syntax on

" 自动缩进
set autoindent

" 显示匹配的括号
set showmatch

" 搜索时忽略大小写
set ignorecase

" 高亮搜索结果
set hlsearch

" 设置制表符宽度
set tabstop=4
set shiftwidth=4
set expandtab
```

## 总结

Vim是一个功能强大的文本编辑器，虽然学习曲线较陡，但一旦掌握，就能大大提高文本编辑的效率。关键是要多练习，熟能生巧。

### 学习建议

1. **从基础开始**：先掌握基本的模式切换和常用命令
2. **多练习**：在实际项目中多使用Vim
3. **逐步深入**：学习高级功能和插件
4. **自定义配置**：根据个人习惯配置Vim

记住，Vim的学习是一个渐进的过程，不要急于求成，慢慢来，你会爱上这个编辑器的！

